<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>gapi practice</title>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
</head>
<body>
    <div class="signin" onclick="signIn()">Sign in</div>
    <script>
        function init(){
        gapi.load('auth2', function() {
        auth2 = gapi.auth2.init({
        client_id: "540071001357-0jsfmjc68ghf6an5d72jer3iqrum07ue.apps.googleusercontent.com",
        fetch_basic_profile: false,
        scope: 'profile'
        });

         // Sign the user in, and then retrieve their ID.
        auth2.signIn().then(function() {
        console.log(auth2.currentUser.get().getId());
        });
        });
        }
        /*
        function init(){
            gapi.load(
                'client:auth2',function(){
                    gapi.client.init({
                    'apiKey':"AIzaSyA2uk3q1u8Z2g5dXQEovn9QD7sNqkxlhTM",
                    "client_id":"540071001357-0jsfmjc68ghf6an5d72jer3iqrum07ue.apps.googleusercontent.com",
                    "scope":"https://www.googleapis.com/auth/userinfo.profile",
                    "discoveryDocs":["https://www.googleapis.com/discovery/v1/apis/plus/v1/rest"]
                    }).then(
                        function(){
                            gapi.auth2.getAuthInstance().isSignedIn.listen(updateSignInStatus);
                            updateSignInStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
                        }
                    )
                }
            );
        }
        function updateSignInStatus(status){
            if(status){
                console.log("you are signed in");
                gapi.auth2.getAuthInstance().init();
            }
        }
        function signIn(){
            gapi.auth2.getAuthInstance().signIn();
        }
        */
    </script>
</body>
</html>